<%- include("../partials/header.ejs") %>
    <%- include("../partials/navbar.ejs") %>

    <article class="container">
        <div class="row justify-content-center mb-5">
            <div class="col-12">
                <div class="card ms-auto me-auto mt-5 text-white bg-dark" style="width: 800px">
                    <div class="card-header m-0 h5">Anunciar Produto</div>
                    <div class="card-body">
                        <h5 class="mt-2 mb-3">Dados Gerais</h5>
                        <form action="/produtos/anunciar_produto" method="post" enctype="multipart/form-data">
                            <div class="row">
                                <div class="col">
                                    <label for="titulo-produto">Título</label>
                                    <input type="text" name="titulo_produto" id="titulo-produto" class="form-control" placeholder="Digite o título do produto">
                                </div>
                                <div class="col">
                                    <label for="preco">Preço</label>
                                    <input type="number" name="preco" id="preco" class="form-control" placeholder="R$ 200,00">
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col">
                                    <label for="categoria">Categoria</label>
                                    <select name="categoria" id="categoria" class="form-control" aria-label="Default select example" title="Selecione uma categoria">
                                        <option value="" selected="selected">Selecione uma categoria</option>
                                        <% categorias.forEach(categoria => { %>
                                            <option value="<%= categoria.ID_CATEGORIA %>"><%= categoria.NOME_CATEGORIA %></option>
                                        <% }) %>
                                    </select>
                                </div>
                                <div class="col">
                                    <label for="condicao">Condição</label>
                                    <select name="condicao" id="condicao" class="form-control" aria-label="Default select example" title="Selecione uma condição">
                                        <option value="" selected="selected">Selecione uma condição</option>
                                        <option value="1">Novo</option>
                                        <option value="2">Usado</option>
                                    </select>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-12">
                                    <label for="descricao">Descrição</label>
                                    <textarea name="descricao" id="descricao" cols="30" rows="8" class="form-control" placeholder="Digite a descrição do seu produto"></textarea>
                                </div>
                            </div>
                            <div class="row mt-3">
                                <div class="col-12">
                                    <label for="">Fotos</label>
                                    <div class="input-group mb-3">
                                        <input type="file" name="file" class="form-control" id="inputGroupFile01" multiple>
                                        <label class="input-group-text" for="inputGroupFile01">Upload</label>
                                    </div>
                                </div>
                            </div>
                            <h5 class="mt-3 mb-3">Localização</h5>
                            <div class="row">
                                <div class="col-12 col-md-6">
                                    <label for="id_regiao_estado">Estado</label>
                                    <select name="estado" id="id_regiao_estado" class="form-control" aria-label="Default select example" title="Selecione um estado" onchange="buscar_cidades()">
                                        <% estados.forEach(estado => { %>
                                            <% if(estado.ID_ESTADO == usuarioData.estado) { %>
                                                <option value="<%= estado.ID_ESTADO %>" selected="selected"><%= estado.NOME_ESTADO %></option>
                                            <% } %>
                                            <option value="<%= estado.ID_ESTADO %>"><%= estado.NOME_ESTADO %></option>
                                        <% }) %>
                                    </select>
                                </div>
                                <div class="col-12 col-md-6">
                                    <label for="id_regiao_cidade">Cidade</label>
                                    <select name="cidade" id="id_regiao_cidade" class="form-control" aria-label="Default select example" title="Selecione uma cidade">
                                        <option value="<%= usuarioData.id_cidade %>"><%= usuarioData.nome_cidade %></option>
                                    </select>
                                </div>
                            </div>
                            <input class="btn btn-success mt-3 float-end" type="submit" name="enviar" value="Enviar">
                        </form>
                    </div>
                </div>
            </div>
        </div>
    </article>

<%- include("../partials/footer.ejs") %>